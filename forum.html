<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>community forum | math expert roadmap</title>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mathquill/0.10.1/mathquill.css" />
    <link rel="stylesheet" href="forum.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathquill/0.10.1/mathquill.js"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

</head>

<body>
    <nav>
        <div class="container">
            <a href="index.html" class="logo">math expert roadmap</a>
            <ul>
                <li><a href="curriculum.html">curriculum</a></li>
                <li><a href="diagnostic.html">diagnostic</a></li>
                <li><a href="forum.html">forum</a></li>
                <li><a href="index.html#faq">faq</a></li>
                <li><a href="index.html#contact">contact</a></li>
            </ul>
        </div>
    </nav>

    <div class="header">
        <div class="container">
            <h1>community forum</h1>
            <p>connect with fellow learners, ask questions, share insights, and celebrate your mathematical journey
                together</p>
            <button class="new-post-btn" onclick="openModal()">‚úèÔ∏è new post</button>
        </div>
    </div>

    <!-- Create Post Modal -->
    <div class="modal-overlay" id="postModal">
        <div class="modal">
            <h2 style="margin-bottom: 1.5rem; color: var(--primary);">ask a question</h2>
            <div class="form-group">
                <label class="form-label">title</label>
                <input type="text" id="postTitle" class="form-input" placeholder="e.g. need help with calculus limits">
            </div>
            <div class="form-group">
                <label class="form-label">category</label>
                <select id="postCategory" class="form-select">
                    <option value="help">homework help</option>
                    <option value="concepts">concept explanations</option>
                    <option value="resources">resource sharing</option>
                    <option value="success">success stories</option>
                    <option value="study">study groups</option>
                </select>
            </div>
            <div class="form-group">
                <label class="form-label">your question</label>
                <textarea id="postBody" class="form-input"
                    style="min-height: 150px; font-family: inherit; margin-bottom: 1rem; resize: vertical;"
                    placeholder="type your question here... use the button below to add math formulas."></textarea>

                <button type="button" id="mathToggleBtn" class="math-toggle-btn" onclick="toggleMathEditor()">
                    <span>‚ûï add math formula</span>
                    <span class="toggle-arrow">‚ñº</span>
                </button>

                <div id="mathEditorContainer" style="display: none;">
                    <p style="font-size: 0.9rem; color: var(--gray); margin-bottom: 0.8rem;">
                        type your equation below using latex syntax (e.g. \sqrt{x}). click insert when done.
                    </p>
                    <div id="math-field"
                        style="background: white; border: 1px solid #ccc; min-height: 60px; margin-bottom: 1rem; border-radius: 8px; font-size: 1.2rem; padding: 10px;">
                    </div>
                    <div style="display: flex; justify-content: flex-end; gap: 0.5rem; align-items: center;">
                        <span style="font-size: 0.8rem; color: var(--gray); margin-right: auto;">preview shown
                            above</span>
                        <button type="button" class="btn btn-primary" onclick="insertMath()">
                            insert into post
                        </button>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label class="form-label">tags (comma separated)</label>
                <input type="text" id="postTags" class="form-input" placeholder="algebra, polynomials, level 9">
            </div>
            <div class="modal-actions">
                <button class="btn btn-secondary" onclick="closeModal()">cancel</button>
                <button class="btn btn-primary" onclick="submitPost()">post question</button>
            </div>
        </div>
    </div>

    <div class="container">
        <div class="forum-container">
            <aside class="sidebar">
                <h3>categories</h3>
                <div class="category active" onclick="filterPosts('all')">
                    <span class="category-icon">üìö</span>
                    all discussions
                </div>
                <div class="category" onclick="filterPosts('help')">
                    <span class="category-icon">‚ùì</span>
                    homework help
                </div>
                <div class="category" onclick="filterPosts('concepts')">
                    <span class="category-icon">üí°</span>
                    concept explanations
                </div>
                <div class="category" onclick="filterPosts('resources')">
                    <span class="category-icon">üîó</span>
                    resource sharing
                </div>
                <div class="category" onclick="filterPosts('success')">
                    <span class="category-icon">üéâ</span>
                    success stories
                </div>
                <div class="category" onclick="filterPosts('study')">
                    <span class="category-icon">üìñ</span>
                    study groups
                </div>
            </aside>

            <main class="main-content" id="postsContainer">
                <p id="loading-text" style="text-align:center; padding: 20px;">loading questions...</p>
                <!-- User posts will be prepended here -->
            </main>
        </div>
    </div>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>navigation</h4>
                    <a href="index.html">home</a>
                    <a href="curriculum.html">curriculum</a>
                    <a href="diagnostic.html">diagnostic</a>
                    <a href="forum.html">forum</a>
                </div>
                <div class="footer-section">
                    <h4>resources</h4>
                    <a href="index.html#howitworks">how it works</a>
                    <a href="index.html#faq">faq</a>
                    <a href="index.html#testimonials">testimonials</a>
                </div>
                <div class="footer-section">
                    <h4>connect</h4>
                    <a href="forum.html">join the forum</a>
                    <a href="mailto:hello@mathexpert.com">email us</a>
                </div>
            </div>
            <div class="copyright">
                <p>¬© 2025 math expert roadmap. making mathematics accessible to all.</p>
            </div>
        </div>
    </footer>

    <script src="forum.js"></script>
</body>

</html>